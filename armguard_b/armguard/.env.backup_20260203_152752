# ============================================================
# ArmGuard Environment Configuration
# ============================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ============================================================
# Django Core Settings
# ============================================================

# Django Secret Key (CRITICAL: Generate new one for production!)
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=w&vpjn2_bxb)#j@=-gr%o9!fl1v44b#1&m_#6i9v)@$d(k_=z7

# Debug mode (True for development, False for production)
DJANGO_DEBUG=True

# Django Settings Module
# Use 'core.settings' for development, 'core.settings_production' for production
DJANGO_SETTINGS_MODULE=core.settings

# Allowed hosts (comma-separated, no spaces)
# IMPORTANT: Add your server's IP address for mobile/network access!
# For Raspberry Pi deployment, add your RPi's IP address
# Example: DJANGO_ALLOWED_HOSTS=yourdomain.com,192.168.1.100,127.0.0.1,localhost,armguard.rds
DJANGO_ALLOWED_HOSTS=127.0.0.1,localhost,armguard.rds

# CSRF Trusted Origins (for HTTPS, comma-separated)
# Example: CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CSRF_TRUSTED_ORIGINS=

# ============================================================
# Security Settings
# ============================================================

# Admin URL (Obfuscation - use random string in production)
# Default: superadmin (CHANGE THIS IN PRODUCTION!)
# Generate with: python -c "import secrets; print('admin-' + secrets.token_urlsafe(16))"
# Example: DJANGO_ADMIN_URL=admin-x7k2m9p-secret-portal-2026
DJANGO_ADMIN_URL=admin-x7k2m9p-secret-portal-2026

# Password Requirements - Military Grade
PASSWORD_MIN_LENGTH=12
# Minimum 12 characters for military security

# File Upload Limits (in bytes)
FILE_UPLOAD_MAX_MEMORY_SIZE=5242880
# 5MB
DATA_UPLOAD_MAX_MEMORY_SIZE=5242880
# 5MB

# SSL/HTTPS Settings (Enable for production)
SECURE_SSL_REDIRECT=False  
# Set to True in production
SESSION_COOKIE_SECURE=False  
# Set to True in production
CSRF_COOKIE_SECURE=False  
# Set to True in production
SECURE_HSTS_SECONDS=0  
# Set to 31536000 (1 year) in production

# Rate Limiting
RATELIMIT_ENABLE=True
RATELIMIT_REQUESTS_PER_MINUTE=60  
# Requests per IP per minute for regular users
RATELIMIT_STAFF_REQUESTS_PER_MINUTE=300
# Higher limit for staff users (instead of bypassing)

# Django Axes (Failed Login Protection) - Military Grade
AXES_ENABLED=True
AXES_FAILURE_LIMIT=3  
# Lock account after 3 failed attempts (reduced from 5)
AXES_COOLOFF_TIME=24  
# Lockout duration in hours (increased to 24 for security)

# Session Security - Military Environment
SESSION_COOKIE_AGE=1800  
# Session timeout in seconds (30 minutes for high-security)
SESSION_EXPIRE_AT_BROWSER_CLOSE=True
# Force re-login when browser closes

# ============================================================
# Database Configuration
# ============================================================

# Use PostgreSQL for production (recommended)
USE_POSTGRESQL=False  
# Set to True for production

# PostgreSQL Settings (if USE_POSTGRESQL=True)
# IMPORTANT: Use strong passwords and enable SSL in production
DB_NAME=armguard_db
DB_USER=armguard_user
DB_PASSWORD=your-very-strong-database-password-here-change-this
DB_HOST=localhost
DB_PORT=5432

# ============================================================
# Logging Configuration
# ============================================================

# Log file paths (create directories first: mkdir logs)
SECURITY_LOG_PATH=logs/security.log
ERROR_LOG_PATH=logs/errors.log
DJANGO_LOG_PATH=logs/django.log

# ============================================================
# Cache Configuration (Production)
# ============================================================

# Use Redis for production (recommended for shared cache between workers)
USE_REDIS_CACHE=True
REDIS_URL=redis://127.0.0.1:6379/1

# Email Backend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend  # Use smtp.EmailBackend for production

# SMTP Settings (for production)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@example.com
EMAIL_HOST_PASSWORD=your-email-app-password

# Email Addresses
DEFAULT_FROM_EMAIL=noreply@armguard.local
SERVER_EMAIL=noreply@armguard.local
ADMIN_NAME=Admin
ADMIN_EMAIL=admin@example.com

# ============================================================
# Admin Customization (Optional)
# ============================================================

ADMIN_SITE_HEADER=ArmGuard Administration
ADMIN_SITE_TITLE=ArmGuard Admin
ADMIN_INDEX_TITLE=ArmGuard Dashboard

# ============================================================
# Advanced Security (Optional)
# ============================================================

# IP Whitelist for Admin Access (comma-separated, leave empty to disable)
# Example: ADMIN_ALLOWED_IPS=192.168.1.100,10.0.0.50,127.0.0.1
# WARNING: Only add trusted IP addresses!
ADMIN_ALLOWED_IPS=

# ============================================================
# VPN Integration Settings (WireGuard)
# ============================================================

# Enable/disable VPN integration
WIREGUARD_ENABLED=False

# WireGuard interface name
WIREGUARD_INTERFACE=wg0

# VPN network subnet
WIREGUARD_NETWORK=10.0.0.0/24

# WireGuard server port
WIREGUARD_PORT=51820

# VPN Email Alerts
VPN_EMAIL_ALERTS_ENABLED=False
VPN_ALERT_EMAILS=admin@armguard.local

# Maximum concurrent VPN connections
VPN_MAX_CONCURRENT_CONNECTIONS=50

# ============================================================
# Notes
# ============================================================
# 1. Always generate a new SECRET_KEY for production
# 2. Set DEBUG=False in production
# 3. Use PostgreSQL instead of SQLite for production
# 4. Enable all SSL/HTTPS settings when using HTTPS
# 5. Create 'logs' directory: mkdir logs
# 6. Protect .env file: chmod 600 .env
